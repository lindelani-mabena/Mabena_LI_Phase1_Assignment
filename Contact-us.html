<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <link href="blog.css" rel="stylesheet">
  <title>Contact Us</title>
</head>

<body class="text-center">
  <main class="form-contact">
    <form>
      <img class="mb-4" src="./images/blog.png" alt="" width="72" height="57">
      <h1 class="h3 mb-3 fw-normal">Contact Us</h1>
      <div class="form-floating">
        <input type="text" class="form-control" id="txtFirstName" placeholder="First Name">
        <label for="txtFirstName">First Name</label>
      </div>
      <div class="form-floating">
        <input type="text" class="form-control" id="txtLastName" placeholder="Last Name">
        <label for="txtLastName">Last Name</label>
      </div>
      <div class="form-floating">
        <input type="email" class="form-control" id="txtEmail" placeholder="name@example.com">
        <label for="txtEmail">Email address</label>
      </div>
      <div class="form-floating">
        <input type="text" class="form-control" id="txtContactNumber" placeholder="Password">
        <label for="txtContactNumber">Contact Number</label>
      </div>
      <div class="form-floating">
        <textarea type="text" class="form-control" id="txtMessage" placeholder="Message" rows="10"> </textarea>
        <label for="txtMessage">Message</label>
      </div>
      <button class="w-100 btn btn-lg btn-dark " type="button" id="btnContactUs">Contact Us</button>
      <p class="footers mt-5 mb-3 text-muted">&copy; Mabena LI 2021</p>
    </form>
  </main>

  <!-- <script src="./blog.js"></script> -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    if (localStorage) {
      $(document).ready(function () {
        $("#btnContactUs").click(function () {

          alert("clicked!");
          var strFirstName = $("#txtFirstName").val();
          var strLastName = $("#txtLastName").val();
          var strEmail = $("#txtEmail").val();
          var strContactNumber = $("#txtContactNumber").val();
          var strMessage = $("#txtMessage").val();
          var newContactMessage = {
            "strFirstName": strFirstName,
            "strLastName": strLastName,
            "strEmail": strEmail,
            "strContactNumber": strContactNumber,
            "strMessage": strMessage
          }

          addNewMessage(newContactMessage);
        });
      });
      function addNewMessage(message) {

        var messages = getMessagesFromStorage();
        alert('messages' + messages);

        messages.push(message);

        localStorage.setItem('messages', JSON.stringify(messages));
        alert("pushed");
      }

      function getMessagesFromStorage() {
        var messages;

        const messagesLS = localStorage.getItem('messages');

        if (localStorage.getItem('messages') === null) {
          var messages = [];
        }
        else {
          messages = JSON.parse(messagesLS);
        }

        return messages;
      }
    } else {
      alert("Your browser does not support localStorage.");
    }
  </script>
</body>

</html>